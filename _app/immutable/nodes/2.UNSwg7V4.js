import{a as pt,h as lt,u as gt,o as vt,s as _t,b as X,p as $t,c as bt}from"../chunks/firestore.pjfPHfQk.js";import{s as V,z as wt,n as _,b as ft,o as Y,r as kt}from"../chunks/scheduler.CLOlenSg.js";import{S as A,i as H,e as p,s as M,b as z,c as g,d as I,h as L,f as D,g as f,n as C,j as k,k as m,z as R,l as J,A as dt,t as T,a as E,m as P,o as K,r as Ct,p as xt,v as N,w as O,x as U,y as j,q as yt}from"../chunks/index.7Ms6IDg1.js";import{r as It,w as Mt,g as Lt}from"../chunks/entry.C5xp-JQU.js";/* empty css                     */function F(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}const St=async()=>({locations:await pt()}),de=Object.freeze(Object.defineProperty({__proto__:null,load:St},Symbol.toStringTag,{value:"Module"})),ht=Mt(void 0),mt=It(ht);function ot(s,t,n){const l=s.slice();return l[2]=t[n][0],l[3]=t[n][1],l}function st(s){let t,n=at(s[2])+"",l,o;return{c(){t=p("li"),l=z(n),o=M(),this.h()},l(a){t=g(a,"LI",{class:!0});var e=I(t);l=D(e,n),o=L(e),e.forEach(f),this.h()},h(){C(t,"class","unfilled_tag")},m(a,e){k(a,t,e),m(t,l),m(t,o)},p(a,e){e&1&&n!==(n=at(a[2])+"")&&J(l,n)},d(a){a&&f(t)}}}function Tt(s){let t,n,l,o,a,e,r=s[0].name+"",i,u,c,d,$,h,b=s[0].stars+"",y,q,B,tt,W=F(Object.entries(s[0].tags)),x=[];for(let w=0;w<W.length;w+=1)x[w]=st(ot(s,W,w));return{c(){t=p("div"),n=p("img"),o=M(),a=p("div"),e=p("h3"),i=z(r),u=M(),c=p("div"),d=p("ul");for(let w=0;w<x.length;w+=1)x[w].c();$=M(),h=p("p"),y=z(b),q=z(" / 5"),this.h()},l(w){t=g(w,"DIV",{class:!0});var S=I(t);n=g(S,"IMG",{src:!0,height:!0,width:!0,alt:!0}),o=L(S),a=g(S,"DIV",{class:!0});var v=I(a);e=g(v,"H3",{});var G=I(e);i=D(G,r),G.forEach(f),u=L(v),c=g(v,"DIV",{});var et=I(c);d=g(et,"UL",{class:!0});var nt=I(d);for(let Q=0;Q<x.length;Q+=1)x[Q].l(nt);nt.forEach(f),et.forEach(f),$=L(v),h=g(v,"P",{});var Z=I(h);y=D(Z,b),q=D(Z," / 5"),Z.forEach(f),v.forEach(f),S.forEach(f),this.h()},h(){wt(n.src,l="https://placecats.com/neo/100/100")||C(n,"src",l),C(n,"height","100"),C(n,"width","100"),C(n,"alt","img"),C(d,"class","tags"),C(a,"class","tile-content"),C(t,"class","tile")},m(w,S){k(w,t,S),m(t,n),m(t,o),m(t,a),m(a,e),m(e,i),m(a,u),m(a,c),m(c,d);for(let v=0;v<x.length;v+=1)x[v]&&x[v].m(d,null);m(a,$),m(a,h),m(h,y),m(h,q),B||(tt=R(t,"click",s[1]),B=!0)},p(w,[S]){if(S&1&&r!==(r=w[0].name+"")&&J(i,r),S&1){W=F(Object.entries(w[0].tags));let v;for(v=0;v<W.length;v+=1){const G=ot(w,W,v);x[v]?x[v].p(G,S):(x[v]=st(G),x[v].c(),x[v].m(d,null))}for(;v<x.length;v+=1)x[v].d(1);x.length=W.length}S&1&&b!==(b=w[0].stars+"")&&J(y,b)},i:_,o:_,d(w){w&&f(t),dt(x,w),B=!1,tt()}}}function at(s){const t=s.split("_");let n="";for(let l of t)n+=l.charAt(0).toUpperCase()+l.slice(1)+" ";return n.slice(0,n.length-1)}function Et(s,t,n){let{location:l}=t;function o(){Lt(`/locations?id=${l.id}`)}return s.$$set=a=>{"location"in a&&n(0,l=a.location)},[l,o]}class Pt extends A{constructor(t){super(),H(this,t,Et,Tt,V,{location:0})}}function rt(s){s[1]=s[2].locations}function it(s,t,n){const l=s.slice();return l[3]=t[n],l}function zt(s){let t=console.error(s[6])+"",n,l,o,a="Something went wrong...";return{c(){n=z(t),l=M(),o=p("p"),o.textContent=a},l(e){n=D(e,t),l=L(e),o=g(e,"P",{"data-svelte-h":!0}),P(o)!=="svelte-diyvqb"&&(o.textContent=a)},m(e,r){k(e,n,r),k(e,l,r),k(e,o,r)},p(e,r){r&1&&t!==(t=console.error(e[6])+"")&&J(n,t)},i:_,o:_,d(e){e&&(f(n),f(l),f(o))}}}function Dt(s){rt(s);let t,n,l=F(s[1]),o=[];for(let e=0;e<l.length;e+=1)o[e]=ct(it(s,l,e));const a=e=>E(o[e],1,1,()=>{o[e]=null});return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=K()},l(e){for(let r=0;r<o.length;r+=1)o[r].l(e);t=K()},m(e,r){for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(e,r);k(e,t,r),n=!0},p(e,r){if(rt(e),r&1){l=F(e[1]);let i;for(i=0;i<l.length;i+=1){const u=it(e,l,i);o[i]?(o[i].p(u,r),T(o[i],1)):(o[i]=ct(u),o[i].c(),T(o[i],1),o[i].m(t.parentNode,t))}for(Ct(),i=l.length;i<o.length;i+=1)a(i);xt()}},i(e){if(!n){for(let r=0;r<l.length;r+=1)T(o[r]);n=!0}},o(e){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)E(o[r]);n=!1},d(e){e&&f(t),dt(o,e)}}}function ct(s){let t,n;return t=new Pt({props:{location:s[3]}}),{c(){N(t.$$.fragment)},l(l){O(t.$$.fragment,l)},m(l,o){U(t,l,o),n=!0},p(l,o){const a={};o&1&&(a.location=l[3]),t.$set(a)},i(l){n||(T(t.$$.fragment,l),n=!0)},o(l){E(t.$$.fragment,l),n=!1},d(l){j(t,l)}}}function Vt(s){let t,n="Loading...";return{c(){t=p("p"),t.textContent=n},l(l){t=g(l,"P",{"data-svelte-h":!0}),P(t)!=="svelte-qdsr2u"&&(t.textContent=n)},m(l,o){k(l,t,o)},p:_,i:_,o:_,d(l){l&&f(t)}}}function At(s){let t,n,l,o={ctx:s,current:null,token:null,hasCatch:!0,pending:Vt,then:Dt,catch:zt,value:2,error:6,blocks:[,,,]};return lt(n=s[0],o),{c(){t=p("div"),o.block.c(),this.h()},l(a){t=g(a,"DIV",{class:!0});var e=I(t);o.block.l(e),e.forEach(f),this.h()},h(){C(t,"class","tile-list")},m(a,e){k(a,t,e),o.block.m(t,o.anchor=null),o.mount=()=>t,o.anchor=null,l=!0},p(a,[e]){s=a,o.ctx=s,e&1&&n!==(n=s[0])&&lt(n,o)||gt(o,s,e)},i(a){l||(T(o.block),l=!0)},o(a){for(let e=0;e<3;e+=1){const r=o.blocks[e];E(r)}l=!1},d(a){a&&f(t),o.block.d(),o.token=null,o=null}}}function Ht(s,t,n){let l;return ft(s,mt,o=>n(0,l=o)),[l]}class Nt extends A{constructor(t){super(),H(this,t,Ht,At,V,{})}}function Ot(s){let t,n='<input placeholder="Search" class="search"/> <img src="/filter-solid.svg" alt="filter" class="filter"/>';return{c(){t=p("div"),t.innerHTML=n,this.h()},l(l){t=g(l,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1nmmves"&&(t.innerHTML=n),this.h()},h(){C(t,"class","list-header")},m(l,o){k(l,t,o)},p:_,i:_,o:_,d(l){l&&f(t)}}}class Ut extends A{constructor(t){super(),H(this,t,null,Ot,V,{})}}function jt(s){let t,n,l,o,a;return n=new Ut({}),o=new Nt({}),{c(){t=p("div"),N(n.$$.fragment),l=M(),N(o.$$.fragment),this.h()},l(e){t=g(e,"DIV",{class:!0});var r=I(t);O(n.$$.fragment,r),l=L(r),O(o.$$.fragment,r),r.forEach(f),this.h()},h(){C(t,"class","location-modal")},m(e,r){k(e,t,r),U(n,t,null),m(t,l),U(o,t,null),a=!0},p:_,i(e){a||(T(n.$$.fragment,e),T(o.$$.fragment,e),a=!0)},o(e){E(n.$$.fragment,e),E(o.$$.fragment,e),a=!1},d(e){e&&f(t),j(n),j(o)}}}class qt extends A{constructor(t){super(),H(this,t,null,jt,V,{})}}function Wt(s){let t,n="Sign in with Google",l,o;return{c(){t=p("button"),t.textContent=n,this.h()},l(a){t=g(a,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1dn4jlq"&&(t.textContent=n),this.h()},h(){C(t,"class","svelte-1lgzup3")},m(a,e){k(a,t,e),l||(o=R(t,"click",s[4]),l=!0)},p:_,d(a){a&&f(t),l=!1,o()}}}function Bt(s){let t,n,l,o=s[0].displayName+"",a,e,r,i,u="Sign Out",c,d;return{c(){t=p("div"),n=p("p"),l=z("Welcome, "),a=z(o),e=z("!"),r=M(),i=p("button"),i.textContent=u,this.h()},l($){t=g($,"DIV",{});var h=I(t);n=g(h,"P",{});var b=I(n);l=D(b,"Welcome, "),a=D(b,o),e=D(b,"!"),b.forEach(f),r=L(h),i=g(h,"BUTTON",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-1vz90ia"&&(i.textContent=u),h.forEach(f),this.h()},h(){C(i,"class","svelte-1lgzup3")},m($,h){k($,t,h),m(t,n),m(n,l),m(n,a),m(n,e),m(t,r),m(t,i),c||(d=R(i,"click",s[3]),c=!0)},p($,h){h&1&&o!==(o=$[0].displayName+"")&&J(a,o)},d($){$&&f(t),c=!1,d()}}}function ut(s){let t,n,l,o="Sign In",a,e,r="Sign in with Google",i,u,c="Cancel",d,$;return{c(){t=p("div"),n=p("div"),l=p("h2"),l.textContent=o,a=M(),e=p("button"),e.textContent=r,i=M(),u=p("button"),u.textContent=c,this.h()},l(h){t=g(h,"DIV",{class:!0});var b=I(t);n=g(b,"DIV",{class:!0});var y=I(n);l=g(y,"H2",{"data-svelte-h":!0}),P(l)!=="svelte-1f1zcva"&&(l.textContent=o),a=L(y),e=g(y,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-17km2l0"&&(e.textContent=r),i=L(y),u=g(y,"BUTTON",{class:!0,"data-svelte-h":!0}),P(u)!=="svelte-1yoi7ua"&&(u.textContent=c),y.forEach(f),b.forEach(f),this.h()},h(){C(e,"class","svelte-1lgzup3"),C(u,"class","svelte-1lgzup3"),C(n,"class","popup-content svelte-1lgzup3"),C(t,"class","popup svelte-1lgzup3")},m(h,b){k(h,t,b),m(t,n),m(n,l),m(n,a),m(n,e),m(n,i),m(n,u),d||($=[R(e,"click",s[2]),R(u,"click",s[5])],d=!0)},p:_,d(h){h&&f(t),d=!1,kt($)}}}function Gt(s){let t,n;function l(r,i){return r[0]?Bt:Wt}let o=l(s),a=o(s),e=s[1]&&ut(s);return{c(){a.c(),t=M(),e&&e.c(),n=K()},l(r){a.l(r),t=L(r),e&&e.l(r),n=K()},m(r,i){a.m(r,i),k(r,t,i),e&&e.m(r,i),k(r,n,i)},p(r,[i]){o===(o=l(r))&&a?a.p(r,i):(a.d(1),a=o(r),a&&(a.c(),a.m(t.parentNode,t))),r[1]?e?e.p(r,i):(e=ut(r),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},i:_,o:_,d(r){r&&(f(t),f(n)),a.d(r),e&&e.d(r)}}}function Rt(s,t,n){let l=null,o=!1;const a=async()=>{try{const u=await _t(X,$t);n(0,l=u.user),console.log("User Info:",l),n(1,o=!1)}catch(u){console.error("Error during sign-in:",u.message)}},e=async()=>{await bt(X),n(0,l=null),console.log("User signed out")};return Y(()=>{const u=vt(X,c=>{n(0,l=c),console.log("Auth state changed, current user:",l)});return()=>u()}),[l,o,a,e,()=>n(1,o=!0),()=>n(1,o=!1)]}class Jt extends A{constructor(t){super(),H(this,t,Rt,Gt,V,{})}}function Kt(s){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>Ft(t,s)):console.warn("Geolocation Not Enabled")}function Ft(s,t){t([s.coords.latitude,s.coords.longitude])}function Zt(s){Y(()=>{Kt(s)})}function Qt(s){return{lat:s[0],lng:s[1]}}function Xt(s){return{lat:s.location.lat,lng:s.location.long}}function Yt(){(s=>{var t,n,l,o="The Google Maps JavaScript API",a="google",e="importLibrary",r="__ib__",i=document,u=window;u=u[a]||(u[a]={});var c=u.maps||(u.maps={}),d=new Set,$=new URLSearchParams,h=()=>t||(t=new Promise(async(b,y)=>{var q;await(n=i.createElement("script")),$.set("libraries",[...d]+"");for(l in s)$.set(l.replace(/[A-Z]/g,B=>"_"+B[0].toLowerCase()),s[l]);$.set("callback",a+".maps."+r),n.src=`https://maps.${a}apis.com/maps/api/js?`+$,c[r]=b,n.onerror=()=>t=y(Error(o+" could not load.")),n.nonce=((q=i.querySelector("script[nonce]"))==null?void 0:q.nonce)||"",i.head.append(n)}));c[e]?console.warn(o+" only loads once. Ignoring:",s):c[e]=(b,...y)=>d.add(b)&&h().then(()=>c[e](b,...y))})({key:"AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg",v:"weekly"})}function te(s){let t,n='<div id="map" class="svelte-ovvwcn"></div>';return{c(){t=p("div"),t.innerHTML=n,this.h()},l(l){t=g(l,"DIV",{style:!0,"data-svelte-h":!0}),P(t)!=="svelte-1wuvrps"&&(t.innerHTML=n),this.h()},h(){yt(t,"flex-grow","1")},m(l,o){k(l,t,o)},p:_,i:_,o:_,d(l){l&&f(t)}}}function ee(s,t,n){let l;ft(s,mt,e=>n(1,l=e)),Zt(a),Y(()=>{Yt()});let o;async function a(e){const r=Qt(e),{Map:i}=await google.maps.importLibrary("maps");await google.maps.importLibrary("marker");const u=new google.maps.InfoWindow;o=new i(document.getElementById("map"),{zoom:15,center:r,mapId:"map_id"});const{locations:c}=await l;for(const d of c){const $=Xt(d),h=new google.maps.marker.AdvancedMarkerElement({map:o,position:$,title:d.name});h.addListener("click",()=>{u.close(),u.setContent(h.getTitle()),u.open(h.getMap(),h)})}}return[]}let ne=class extends A{constructor(t){super(),H(this,t,ee,te,V,{})}};function le(s){let t,n='<h1>Study Scout</h1> <img src="/user-solid.svg" alt="profile" class="profile-icon"/>';return{c(){t=p("div"),t.innerHTML=n,this.h()},l(l){t=g(l,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-111bbm0"&&(t.innerHTML=n),this.h()},h(){C(t,"class","header")},m(l,o){k(l,t,o)},p:_,i:_,o:_,d(l){l&&f(t)}}}class oe extends A{constructor(t){super(),H(this,t,null,le,V,{})}}function se(s){let t,n,l,o,a,e,r,i,u;return n=new oe({}),o=new ne({}),e=new qt({}),i=new Jt({}),{c(){t=p("div"),N(n.$$.fragment),l=M(),N(o.$$.fragment),a=M(),N(e.$$.fragment),r=M(),N(i.$$.fragment),this.h()},l(c){t=g(c,"DIV",{class:!0});var d=I(t);O(n.$$.fragment,d),l=L(d),O(o.$$.fragment,d),d.forEach(f),a=L(c),O(e.$$.fragment,c),r=L(c),O(i.$$.fragment,c),this.h()},h(){C(t,"class","main-content")},m(c,d){k(c,t,d),U(n,t,null),m(t,l),U(o,t,null),k(c,a,d),U(e,c,d),k(c,r,d),U(i,c,d),u=!0},p:_,i(c){u||(T(n.$$.fragment,c),T(o.$$.fragment,c),T(e.$$.fragment,c),T(i.$$.fragment,c),u=!0)},o(c){E(n.$$.fragment,c),E(o.$$.fragment,c),E(e.$$.fragment,c),E(i.$$.fragment,c),u=!1},d(c){c&&(f(t),f(a),f(r)),j(n),j(o),j(e,c),j(i,c)}}}function ae(s,t,n){let{data:l}=t;return ht.set(l),s.$$set=o=>{"data"in o&&n(0,l=o.data)},[l]}class me extends A{constructor(t){super(),H(this,t,ae,se,V,{data:0})}}export{me as component,de as universal};

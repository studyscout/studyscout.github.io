import{a as kt,o as yt,s as Ct,b as X,p as It,c as Lt}from"../chunks/firestore.N6TSHobz.js";import{s as z,z as ht,n as w,b as tt,o as W,r as et,j as Et}from"../chunks/scheduler.9YoBh8nY.js";import{S as N,i as O,e as _,s as E,b as U,c as v,d as L,h as T,f as q,g,n as $,j as C,k as m,u as D,l as F,v as pt,o as mt,a as x,p as gt,t as M,q as J,m as P,x as B,y as j,z as A,A as H,B as st,C as rt,r as Tt}from"../chunks/index.D-0ZSoqD.js";import{e as Z}from"../chunks/global.DAHmn1RN.js";import{r as _t,w as vt,g as Mt}from"../chunks/entry.CQQk7Lmq.js";/* empty css                     */const St=async()=>({locations:await kt()}),_e=Object.freeze(Object.defineProperty({__proto__:null,load:St},Symbol.toStringTag,{value:"Module"})),$t=vt(void 0),bt=_t($t),wt=vt(void 0),xt=_t(wt);function at(r,t,e){const n=r.slice();return n[2]=t[e][0],n[3]=t[e][1],n}function it(r){let t,e=ct(r[2])+"",n,o;return{c(){t=_("li"),n=U(e),o=E(),this.h()},l(a){t=v(a,"LI",{class:!0});var l=L(t);n=q(l,e),o=T(l),l.forEach(g),this.h()},h(){$(t,"class","unfilled_tag")},m(a,l){C(a,t,l),m(t,n),m(t,o)},p(a,l){l&1&&e!==(e=ct(a[2])+"")&&F(n,e)},d(a){a&&g(t)}}}function Pt(r){let t,e,n,o,a,l,i=r[0].name+"",s,c,u,f,h,d,p=r[0].stars+"",y,V,R,nt,G=Z(Object.entries(r[0].tags)),I=[];for(let k=0;k<G.length;k+=1)I[k]=it(at(r,G,k));return{c(){t=_("div"),e=_("img"),o=E(),a=_("div"),l=_("h3"),s=U(i),c=E(),u=_("div"),f=_("ul");for(let k=0;k<I.length;k+=1)I[k].c();h=E(),d=_("p"),y=U(p),V=U(" / 5"),this.h()},l(k){t=v(k,"DIV",{class:!0});var S=L(t);e=v(S,"IMG",{src:!0,height:!0,width:!0,alt:!0}),o=T(S),a=v(S,"DIV",{class:!0});var b=L(a);l=v(b,"H3",{});var Y=L(l);s=q(Y,i),Y.forEach(g),c=T(b),u=v(b,"DIV",{});var lt=L(u);f=v(lt,"UL",{class:!0});var ot=L(f);for(let Q=0;Q<I.length;Q+=1)I[Q].l(ot);ot.forEach(g),lt.forEach(g),h=T(b),d=v(b,"P",{});var K=L(d);y=q(K,p),V=q(K," / 5"),K.forEach(g),b.forEach(g),S.forEach(g),this.h()},h(){ht(e.src,n="https://placecats.com/neo/100/100")||$(e,"src",n),$(e,"height","100"),$(e,"width","100"),$(e,"alt","img"),$(f,"class","tags"),$(a,"class","tile-content"),$(t,"class","tile")},m(k,S){C(k,t,S),m(t,e),m(t,o),m(t,a),m(a,l),m(l,s),m(a,c),m(a,u),m(u,f);for(let b=0;b<I.length;b+=1)I[b]&&I[b].m(f,null);m(a,h),m(a,d),m(d,y),m(d,V),R||(nt=D(t,"click",r[1]),R=!0)},p(k,[S]){if(S&1&&i!==(i=k[0].name+"")&&F(s,i),S&1){G=Z(Object.entries(k[0].tags));let b;for(b=0;b<G.length;b+=1){const Y=at(k,G,b);I[b]?I[b].p(Y,S):(I[b]=it(Y),I[b].c(),I[b].m(f,null))}for(;b<I.length;b+=1)I[b].d(1);I.length=G.length}S&1&&p!==(p=k[0].stars+"")&&F(y,p)},i:w,o:w,d(k){k&&g(t),pt(I,k),R=!1,nt()}}}function ct(r){const t=r.split("_");let e="";for(let n of t)e+=n.charAt(0).toUpperCase()+n.slice(1)+" ";return e.slice(0,e.length-1)}function Dt(r,t,e){let{location:n}=t;function o(){Mt(`/locations?id=${n.id}`)}return r.$$set=a=>{"location"in a&&e(0,n=a.location)},[n,o]}class Vt extends N{constructor(t){super(),O(this,t,Dt,Pt,z,{location:0})}}function ut(r,t,e){const n=r.slice();return n[8]=t[e],n}function zt(r){let t,e,n=Z(r[1]),o=[];for(let l=0;l<n.length;l+=1)o[l]=ft(ut(r,n,l));const a=l=>x(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();t=J()},l(l){for(let i=0;i<o.length;i+=1)o[i].l(l);t=J()},m(l,i){for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(l,i);C(l,t,i),e=!0},p(l,i){if(i&2){n=Z(l[1]);let s;for(s=0;s<n.length;s+=1){const c=ut(l,n,s);o[s]?(o[s].p(c,i),M(o[s],1)):(o[s]=ft(c),o[s].c(),M(o[s],1),o[s].m(t.parentNode,t))}for(mt(),s=n.length;s<o.length;s+=1)a(s);gt()}},i(l){if(!e){for(let i=0;i<n.length;i+=1)M(o[i]);e=!0}},o(l){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)x(o[i]);e=!1},d(l){l&&g(t),pt(o,l)}}}function Nt(r){let t,e="No locations found.";return{c(){t=_("p"),t.textContent=e},l(n){t=v(n,"P",{"data-svelte-h":!0}),P(t)!=="svelte-jyefyr"&&(t.textContent=e)},m(n,o){C(n,t,o)},p:w,i:w,o:w,d(n){n&&g(t)}}}function Ot(r){let t,e="Loading...";return{c(){t=_("p"),t.textContent=e},l(n){t=v(n,"P",{"data-svelte-h":!0}),P(t)!=="svelte-qdsr2u"&&(t.textContent=e)},m(n,o){C(n,t,o)},p:w,i:w,o:w,d(n){n&&g(t)}}}function ft(r){let t,e;return t=new Vt({props:{location:r[8]}}),{c(){B(t.$$.fragment)},l(n){j(t.$$.fragment,n)},m(n,o){A(t,n,o),e=!0},p(n,o){const a={};o&2&&(a.location=n[8]),t.$set(a)},i(n){e||(M(t.$$.fragment,n),e=!0)},o(n){x(t.$$.fragment,n),e=!1},d(n){H(t,n)}}}function Bt(r){let t,e,n,o;const a=[Ot,Nt,zt],l=[];function i(s,c){return s[0]?0:s[1].length===0?1:2}return e=i(r),n=l[e]=a[e](r),{c(){t=_("div"),n.c(),this.h()},l(s){t=v(s,"DIV",{class:!0});var c=L(t);n.l(c),c.forEach(g),this.h()},h(){$(t,"class","tile-list")},m(s,c){C(s,t,c),l[e].m(t,null),o=!0},p(s,[c]){let u=e;e=i(s),e===u?l[e].p(s,c):(mt(),x(l[u],1,1,()=>{l[u]=null}),gt(),n=l[e],n?n.p(s,c):(n=l[e]=a[e](s),n.c()),M(n,1),n.m(t,null))},i(s){o||(M(n),o=!0)},o(s){x(n),o=!1},d(s){s&&g(t),l[e].d()}}}function jt(r,t,e){let n,o,a;tt(r,xt,f=>e(3,o=f)),tt(r,bt,f=>e(4,a=f));let l=[],i=!0;W(async()=>{try{e(2,l=(await a).locations)}catch(f){console.error(f)}finally{e(0,i=!1)}});function s(f){let h=[];for(const d of f)u(d)&&c(d)&&h.push(d);return h}function c(f){return o.filters.length>0?Object.keys(f.tags).some(h=>o.filters.includes(h)):!0}function u(f){return o.search!=""?f.name.toLocaleLowerCase().startsWith(o.search.toLocaleLowerCase()):!0}return r.$$.update=()=>{r.$$.dirty&12&&e(1,n=o?s(l):[])},[i,n,l,o]}class At extends N{constructor(t){super(),O(this,t,jt,Bt,z,{})}}function Ht(r){let t,e,n,o,a,l,i;return{c(){t=_("div"),e=_("input"),n=E(),o=_("img"),this.h()},l(s){t=v(s,"DIV",{class:!0});var c=L(t);e=v(c,"INPUT",{placeholder:!0,class:!0}),n=T(c),o=v(c,"IMG",{src:!0,alt:!0,class:!0}),c.forEach(g),this.h()},h(){$(e,"placeholder","Search"),$(e,"class","search"),ht(o.src,a="/filter-solid.svg")||$(o,"src",a),$(o,"alt","filter"),$(o,"class","filter"),$(t,"class","list-header")},m(s,c){C(s,t,c),m(t,e),st(e,r[0].search),m(t,n),m(t,o),l||(i=[D(e,"input",r[2]),D(e,"input",r[1])],l=!0)},p(s,[c]){c&1&&e.value!==s[0].search&&st(e,s[0].search)},i:w,o:w,d(s){s&&g(t),l=!1,et(i)}}}function Ut(r,t,e){let n={search:"",filters:[]};function o(){wt.set(n)}function a(){n.search=this.value,e(0,n)}return r.$$.update=()=>{r.$$.dirty&1&&(n.search,o())},[n,o,a]}class qt extends N{constructor(t){super(),O(this,t,Ut,Ht,z,{})}}function Gt(r){let t,e,n='<div class="handle"></div>',o,a,l,i,s,c,u,f;return l=new qt({}),s=new At({}),{c(){t=_("div"),e=_("div"),e.innerHTML=n,o=E(),a=_("div"),B(l.$$.fragment),i=E(),B(s.$$.fragment),this.h()},l(h){t=v(h,"DIV",{class:!0,style:!0});var d=L(t);e=v(d,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1k3rr5b"&&(e.innerHTML=n),o=T(d),a=v(d,"DIV",{class:!0});var p=L(a);j(l.$$.fragment,p),i=T(p),j(s.$$.fragment,p),p.forEach(g),d.forEach(g),this.h()},h(){$(e,"class","grip"),$(a,"class","location-modal-content"),$(t,"class","location-modal"),$(t,"style",r[1])},m(h,d){C(h,t,d),m(t,e),r[5](e),m(t,o),m(t,a),A(l,a,null),m(a,i),A(s,a,null),c=!0,u||(f=[D(e,"mousedown",rt(r[2])),D(e,"touchstart",rt(r[2]))],u=!0)},p(h,[d]){(!c||d&2)&&$(t,"style",h[1])},i(h){c||(M(l.$$.fragment,h),M(s.$$.fragment,h),c=!0)},o(h){x(l.$$.fragment,h),x(s.$$.fragment,h),c=!1},d(h){h&&g(t),r[5](null),H(l),H(s),u=!1,et(f)}}}function Rt(r,t,e){let n,o=0,a,l,i=!1,s=0;function c(p){i=!0;const y=p instanceof TouchEvent?p.touches[0].clientY:p.clientY,V=l.getBoundingClientRect();s=y-V.top}function u(p){if(i){const y=p instanceof TouchEvent?p.touches[0].clientY:p.clientY;e(3,o=Math.min(y-a-s,0))}}function f(){i=!1}function h(){if(l){const p=l.getBoundingClientRect();e(4,a=p.top)}}W(()=>{h(),window.addEventListener("mousemove",u),window.addEventListener("mouseup",f),window.addEventListener("touchmove",u),window.addEventListener("touchend",f)});function d(p){Et[p?"unshift":"push"](()=>{l=p,e(0,l)})}return r.$$.update=()=>{r.$$.dirty&24&&e(1,n=a?`top: ${Math.max(a+o,0)}px`:"")},[l,n,c,o,a,d]}class Yt extends N{constructor(t){super(),O(this,t,Rt,Gt,z,{})}}function Wt(r){let t,e="Sign in with Google",n,o;return{c(){t=_("button"),t.textContent=e,this.h()},l(a){t=v(a,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1dn4jlq"&&(t.textContent=e),this.h()},h(){$(t,"class","svelte-1lgzup3")},m(a,l){C(a,t,l),n||(o=D(t,"click",r[4]),n=!0)},p:w,d(a){a&&g(t),n=!1,o()}}}function Ft(r){let t,e,n,o=r[0].displayName+"",a,l,i,s,c="Sign Out",u,f;return{c(){t=_("div"),e=_("p"),n=U("Welcome, "),a=U(o),l=U("!"),i=E(),s=_("button"),s.textContent=c,this.h()},l(h){t=v(h,"DIV",{});var d=L(t);e=v(d,"P",{});var p=L(e);n=q(p,"Welcome, "),a=q(p,o),l=q(p,"!"),p.forEach(g),i=T(d),s=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-1vz90ia"&&(s.textContent=c),d.forEach(g),this.h()},h(){$(s,"class","svelte-1lgzup3")},m(h,d){C(h,t,d),m(t,e),m(e,n),m(e,a),m(e,l),m(t,i),m(t,s),u||(f=D(s,"click",r[3]),u=!0)},p(h,d){d&1&&o!==(o=h[0].displayName+"")&&F(a,o)},d(h){h&&g(t),u=!1,f()}}}function dt(r){let t,e,n,o="Sign In",a,l,i="Sign in with Google",s,c,u="Cancel",f,h;return{c(){t=_("div"),e=_("div"),n=_("h2"),n.textContent=o,a=E(),l=_("button"),l.textContent=i,s=E(),c=_("button"),c.textContent=u,this.h()},l(d){t=v(d,"DIV",{class:!0});var p=L(t);e=v(p,"DIV",{class:!0});var y=L(e);n=v(y,"H2",{"data-svelte-h":!0}),P(n)!=="svelte-1f1zcva"&&(n.textContent=o),a=T(y),l=v(y,"BUTTON",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-17km2l0"&&(l.textContent=i),s=T(y),c=v(y,"BUTTON",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-1yoi7ua"&&(c.textContent=u),y.forEach(g),p.forEach(g),this.h()},h(){$(l,"class","svelte-1lgzup3"),$(c,"class","svelte-1lgzup3"),$(e,"class","popup-content svelte-1lgzup3"),$(t,"class","popup svelte-1lgzup3")},m(d,p){C(d,t,p),m(t,e),m(e,n),m(e,a),m(e,l),m(e,s),m(e,c),f||(h=[D(l,"click",r[2]),D(c,"click",r[5])],f=!0)},p:w,d(d){d&&g(t),f=!1,et(h)}}}function Jt(r){let t,e;function n(i,s){return i[0]?Ft:Wt}let o=n(r),a=o(r),l=r[1]&&dt(r);return{c(){a.c(),t=E(),l&&l.c(),e=J()},l(i){a.l(i),t=T(i),l&&l.l(i),e=J()},m(i,s){a.m(i,s),C(i,t,s),l&&l.m(i,s),C(i,e,s)},p(i,[s]){o===(o=n(i))&&a?a.p(i,s):(a.d(1),a=o(i),a&&(a.c(),a.m(t.parentNode,t))),i[1]?l?l.p(i,s):(l=dt(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:w,o:w,d(i){i&&(g(t),g(e)),a.d(i),l&&l.d(i)}}}function Zt(r,t,e){let n=null,o=!1;const a=async()=>{try{const c=await Ct(X,It);e(0,n=c.user),console.log("User Info:",n),e(1,o=!1)}catch(c){console.error("Error during sign-in:",c.message)}},l=async()=>{await Lt(X),e(0,n=null),console.log("User signed out")};return W(()=>{const c=yt(X,u=>{e(0,n=u),console.log("Auth state changed, current user:",n)});return()=>c()}),[n,o,a,l,()=>e(1,o=!0),()=>e(1,o=!1)]}class Kt extends N{constructor(t){super(),O(this,t,Zt,Jt,z,{})}}function Qt(r){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>Xt(t,r)):console.warn("Geolocation Not Enabled")}function Xt(r,t){t([r.coords.latitude,r.coords.longitude])}function te(r){W(()=>{Qt(r)})}function ee(r){return{lat:r[0],lng:r[1]}}function ne(r){return{lat:r.location.lat,lng:r.location.long}}function le(){(r=>{var t,e,n,o="The Google Maps JavaScript API",a="google",l="importLibrary",i="__ib__",s=document,c=window;c=c[a]||(c[a]={});var u=c.maps||(c.maps={}),f=new Set,h=new URLSearchParams,d=()=>t||(t=new Promise(async(p,y)=>{var V;await(e=s.createElement("script")),h.set("libraries",[...f]+"");for(n in r)h.set(n.replace(/[A-Z]/g,R=>"_"+R[0].toLowerCase()),r[n]);h.set("callback",a+".maps."+i),e.src=`https://maps.${a}apis.com/maps/api/js?`+h,u[i]=p,e.onerror=()=>t=y(Error(o+" could not load.")),e.nonce=((V=s.querySelector("script[nonce]"))==null?void 0:V.nonce)||"",s.head.append(e)}));u[l]?console.warn(o+" only loads once. Ignoring:",r):u[l]=(p,...y)=>f.add(p)&&d().then(()=>u[l](p,...y))})({key:"AIzaSyDBBIAIrl0DViTk_pM6Ink6q3GTEYlTbhw",v:"weekly"})}function oe(r){let t,e='<div id="map"></div>';return{c(){t=_("div"),t.innerHTML=e,this.h()},l(n){t=v(n,"DIV",{style:!0,"data-svelte-h":!0}),P(t)!=="svelte-1wuvrps"&&(t.innerHTML=e),this.h()},h(){Tt(t,"flex-grow","1")},m(n,o){C(n,t,o)},p:w,i:w,o:w,d(n){n&&g(t)}}}function se(r,t,e){let n;tt(r,bt,l=>e(1,n=l)),te(a),W(()=>{le()});let o;async function a(l){const i=ee(l),{Map:s}=await google.maps.importLibrary("maps");await google.maps.importLibrary("marker");const c=new google.maps.InfoWindow;o=new s(document.getElementById("map"),{zoom:15,center:i,mapId:"map_id"});const{locations:u}=await n;for(const f of u){const h=ne(f),d=new google.maps.marker.AdvancedMarkerElement({map:o,position:h,title:f.name});d.addListener("click",()=>{c.close(),c.setContent("<h1>"+d.title+"</h1><p>"+f.stars+'/5</p><ul class="tags">'),c.open(d.map,d)})}}return[]}class re extends N{constructor(t){super(),O(this,t,se,oe,z,{})}}function ae(r){let t,e='<h1>Study Scout</h1> <img src="/user-solid.svg" alt="profile" class="profile-icon"/>';return{c(){t=_("div"),t.innerHTML=e,this.h()},l(n){t=v(n,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-111bbm0"&&(t.innerHTML=e),this.h()},h(){$(t,"class","header")},m(n,o){C(n,t,o)},p:w,i:w,o:w,d(n){n&&g(t)}}}class ie extends N{constructor(t){super(),O(this,t,null,ae,z,{})}}function ce(r){let t,e,n,o,a,l,i,s,c;return e=new ie({}),o=new re({}),l=new Yt({}),s=new Kt({}),{c(){t=_("div"),B(e.$$.fragment),n=E(),B(o.$$.fragment),a=E(),B(l.$$.fragment),i=E(),B(s.$$.fragment),this.h()},l(u){t=v(u,"DIV",{class:!0});var f=L(t);j(e.$$.fragment,f),n=T(f),j(o.$$.fragment,f),f.forEach(g),a=T(u),j(l.$$.fragment,u),i=T(u),j(s.$$.fragment,u),this.h()},h(){$(t,"class","main-content")},m(u,f){C(u,t,f),A(e,t,null),m(t,n),A(o,t,null),C(u,a,f),A(l,u,f),C(u,i,f),A(s,u,f),c=!0},p:w,i(u){c||(M(e.$$.fragment,u),M(o.$$.fragment,u),M(l.$$.fragment,u),M(s.$$.fragment,u),c=!0)},o(u){x(e.$$.fragment,u),x(o.$$.fragment,u),x(l.$$.fragment,u),x(s.$$.fragment,u),c=!1},d(u){u&&(g(t),g(a),g(i)),H(e),H(o),H(l,u),H(s,u)}}}function ue(r,t,e){let{data:n}=t;return $t.set(n),r.$$set=o=>{"data"in o&&e(0,n=o.data)},[n]}class ve extends N{constructor(t){super(),O(this,t,ue,ce,z,{data:0})}}export{ve as component,_e as universal};
